/*
 * Copyright (c) 2006-2018, RT-Thread Development Team
 *
 * SPDX-License-Identifier: Apache-2.0
 *
 * Change Logs:
 * Date           Author       Notes
 * 2019-09-17     tyustli   first version
 */

#include <rtthread.h>
#include <rtdevice.h>
#include <board.h>

// /* defined the LED0 pin: PB7 */
// #define LED0_PIN    GET_PIN(B, 7)
void main()
{
    rt_kprintf("hello rtt \n");
}
// // initial
// ai_float input[784] = {0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.45490196,
//             0.49019608, 0.67058824, 1.        , 1.        , 0.58823529,
//             0.36470588, 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.6627451 , 0.99215686, 0.99215686, 0.99215686,
//             0.99215686, 0.99215686, 0.99215686, 0.85490196, 0.11764706,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.6627451 , 0.99215686,
//             0.99215686, 0.99215686, 0.83529412, 0.55686275, 0.69019608,
//             0.99215686, 0.99215686, 0.47843137, 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.20392157, 0.98039216, 0.99215686, 0.82352941, 0.1254902 ,
//             0.04705882, 0.        , 0.02352941, 0.80784314, 0.99215686,
//             0.54901961, 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.30196078, 0.98431373,
//             0.82352941, 0.09803922, 0.        , 0.        , 0.        ,
//             0.47843137, 0.97254902, 0.99215686, 0.25490196, 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.12156863, 0.07058824, 0.        ,
//             0.        , 0.        , 0.        , 0.81960784, 0.99215686,
//             0.99215686, 0.25490196, 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.45882353, 0.96862745, 0.99215686, 0.77647059, 0.03921569,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.29803922, 0.96862745, 0.99215686,
//             0.90588235, 0.24705882, 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.50196078, 0.99215686, 0.99215686, 0.56470588, 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.69019608, 0.96470588, 0.99215686,
//             0.62352941, 0.04705882, 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.09803922,
//             0.91764706, 0.99215686, 0.91372549, 0.1372549 , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.77647059, 0.99215686, 0.99215686,
//             0.55294118, 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.30588235,
//             0.97254902, 0.99215686, 0.74117647, 0.04705882, 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.0745098 , 0.78431373, 0.99215686, 0.99215686,
//             0.55294118, 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.5254902 ,
//             0.99215686, 0.99215686, 0.67843137, 0.04705882, 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.97254902, 0.99215686, 0.99215686,
//             0.09803922, 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.97254902, 0.99215686, 0.99215686, 0.16862745, 0.07843137,
//             0.07843137, 0.07843137, 0.07843137, 0.01960784, 0.        ,
//             0.01960784, 0.07843137, 0.07843137, 0.14509804, 0.58823529,
//             0.58823529, 0.58823529, 0.57647059, 0.03921569, 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.97254902, 0.99215686,
//             0.99215686, 0.99215686, 0.99215686, 0.99215686, 0.99215686,
//             0.99215686, 0.65882353, 0.56078431, 0.65098039, 0.99215686,
//             0.99215686, 0.99215686, 0.99215686, 0.99215686, 0.99215686,
//             0.99215686, 0.48235294, 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.68235294, 0.99215686, 0.99215686, 0.99215686,
//             0.99215686, 0.99215686, 0.99215686, 0.99215686, 0.99215686,
//             0.99215686, 0.99215686, 0.99215686, 0.97647059, 0.96862745,
//             0.96862745, 0.6627451 , 0.45882353, 0.45882353, 0.22352941,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.4627451 , 0.48235294, 0.48235294, 0.48235294, 0.65098039,
//             0.99215686, 0.99215686, 0.99215686, 0.60784314, 0.48235294,
//             0.48235294, 0.16078431, 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        , 0.        ,
//             0.        , 0.        , 0.        , 0.        };


// int main(void)
// {
//     int count = 1;
//     /* set LED0 pin mode to output */
//     rt_pin_mode(LED0_PIN, PIN_MODE_OUTPUT);

// 	ai_float output[10] = {0};

// 	ai_input[0] = net_exec_ctx[idx].report.inputs[0];
// 	ai_input[0].data = AI_HANDLE_PTR(input);
//     ai_input[0].n_batches = 1;
//     printf("AI buffer size : %d.\r\n", AI_BUFFER_SIZE(&ai_input[0]));
//     ai_output[0] = net_exec_ctx[idx].report.outputs[0];
// 	ai_output[0].data = AI_HANDLE_PTR(output);
//     ai_output[0].n_batches = 1;

//     batch = ai_mnetwork_run(net_exec_ctx[idx].handle, &ai_input[0], &ai_output[0]);
//     if (batch != 1) {
//         aiLogErr(ai_mnetwork_get_error(net_exec_ctx[idx].handle),
//                 "ai_mnetwork_run");
//         return -1;
//     }

//     int first_guess = 0;
//     float first_prob = 0.;
// 	for(int i = 0; i <10; i++)
// 	{
// 		if (first_prob < output[i])
// 		{
// 			first_guess = i;
// 			first_prob = output[i];
// 		}
// 	}

//     int y_true = 2;
//     printf("input: x_test[0]\r\n");
//     printf("y_true: %d\r\n", y_true);
// 	printf("y_pred: %d, score: %f \r\n", first_guess, first_prob);
//     printf("\r\n===========================\r\n\r\n\r\n");
//     rt_thread_mdelay(5000);

//     rt_kprintf("hello rtt");
//     while (count++)
//     {
//         rt_pin_write(LED0_PIN, PIN_HIGH);
//         rt_thread_mdelay(500);
//         rt_pin_write(LED0_PIN, PIN_LOW);
//         rt_thread_mdelay(500);
//     }
    // return RT_EOK;
}
